{% extends 'blogapp/base.html' %}
{% block content %}

  <div class="d-flex justify-content-center user-select-none">
    <div class="user_card bg-dark">
      <div class="d-flex justify-content-center mb-2 ">
        <h3 class="text-light">Zarejestruj konto</h3>
      </div>
      <div class="d-flex justify-content-center text-center text-primary">
        <form method="POST" action="">
          {% csrf_token %}      
          <div id="InputChange">             
            <div class="input-group mb-3">
              <div>
                <span class="input-group-text bg-primary"><i class="icon-user-1 text-light"></i></span>
              </div>
              {{form.username}}
            </div>
            <div class="input-group mb-3">
              <div>
                <span class="input-group-text bg-primary"><i class="icon-mail-1 text-light"></i></span>
              </div>
              {{form.email}}
            </div>
            <div class="input-group mb-3">
              <div>
                <span class="input-group-text bg-primary"><i class="icon-key-outline text-light"></i></span>
              </div>
              {{form.password1}}
            </div>
            <div class="input-group mb-3">
              <div>
                <span class="input-group-text bg-primary"><i class="icon-key-outline text-light"></i></span>
              </div>
              {{form.password2}}
            </div>
          </div> 
          <div class="text-start p-2">
            <p class="text-light text-center text-uppercase py-2 border-bottom border-top border-primary fw-bold">Uprawnienia:</p>     
            <div class="form-check" id="RadioChange">
              {{form.permissions}}
            </div>
          </div>          
          <button type="submit" class="btn btn-primary text-light my-3">Zarejestruj się</button>
        </form>
      </div>
      
      {% if form.errors %}
      <div class="alert alert-warning mx-4 my-2" role="alert ">{{form.errors}}</div>
      {% endif %}

      <div>
        <div class="d-flex text-light bg-dark justify-content-center">
          Masz już konto? <a class="link-primary ms-2" href="{% url 'users:login' %}">Zaloguj się</a>
        </div>
      </div>
    </div>
  </div>


  <script>
      var div1 = document.getElementById('InputChange')
      var input_fields = div1.getElementsByTagName('input')
      for (var field in input_fields){	
          input_fields[field].className += ' form-control'
      }

      var div2 = document.getElementById('RadioChange')
      var radio_fields = div2.getElementsByTagName('input')
      for (var field in radio_fields){	
          radio_fields[field].className += ' form-check-input'
          // radio_fields[field].setAttribute('name', 'flexRadioDefault');
      }
  </script>

{% endblock content %}


<!-- <div class="form-check">
  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1" checked>
  <label class="form-check-label" for="flexRadioDefault1">Zwykłe</label>
</div>
<div class="form-check">
  <input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
  <label class="form-check-label" for="flexRadioDefault2">Tworzenie treści</label>
</div> -->

  <!-- <div class="mb-3 d-inline">
      <i class=" icon-user-1"></i>
      <label for="exampleInputEmail1" class="form-label">Email address</label>
      {{form.username}}
      <div id="emailHelp" class="text-alert">We'll never share your email with anyone else.</div>
  </div> -->  